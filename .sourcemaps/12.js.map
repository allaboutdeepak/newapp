{"version":3,"sources":["../../src/pages/page1/page1.module.ts","../../src/pages/page1/page1.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { Page1Page } from \"./page1\";\r\nimport { SharedModule } from '../../app/shared.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    Page1Page,\r\n  ],\r\n  imports: [\r\n    SharedModule,\r\n    IonicPageModule.forChild(Page1Page)\r\n  ],\r\n  exports: [\r\n    Page1Page\r\n  ],\r\n  providers:[\r\n  ]\r\n})\r\n\r\nexport class Module {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/page1/page1.module.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { IonicPage, NavParams,ModalController,LoadingController,NavController, App, AlertController } from 'ionic-angular';\r\nimport { Events } from 'ionic-angular';\r\nimport { AuthService } from \"../../providers/auth-service\";\r\nimport { Common } from \"../../providers/common\";\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-page1',\r\n  templateUrl: 'page1.html'\r\n})\r\nexport class Page1Page {\r\n    @ViewChild(\"updatebox\") updatebox;\r\n    public userDetails: any;\r\n    public resposeData: any;\r\n    public dataSet: any;\r\n    public noRecords: boolean;\r\n    userPostData = {\r\n        user_id: \"\",\r\n        token: \"\",\r\n        feed: \"\",\r\n        feed_id: \"\",\r\n        lastCreated: \"\"\r\n      };\r\n    constructor(public common: Common,\r\n        private alertCtrl: AlertController,\r\n        public navCtrl: NavController,\r\n        public app: App,\r\n        public authService: AuthService\r\n                ) {\r\n                    const data = JSON.parse(localStorage.getItem(\"userData\"));\r\n                    this.userDetails = data.userData;\r\n                    this.userPostData.user_id = this.userDetails.user_id;\r\n                    this.userPostData.token = this.userDetails.token;\r\n                    this.userPostData.lastCreated = \"\";\r\n                    this.noRecords = false\r\n                    this.getFeed();           \r\n      \r\n    }\r\n    getFeed() {\r\n        this.common.presentLoading();\r\n        this.authService.postData(this.userPostData, \"feed\").then(\r\n          result => {\r\n            this.resposeData = result;\r\n            if (this.resposeData.feedData) {\r\n              this.common.closeLoading();\r\n              this.dataSet = this.resposeData.feedData;\r\n              console.log(this.dataSet);\r\n    \r\n              const dataLength = this.resposeData.feedData.length;\r\n    \r\n              this.userPostData.lastCreated = this.resposeData.feedData[\r\n                dataLength - 1\r\n              ].created;\r\n            } else {\r\n              console.log(\"No access\");\r\n              this.common.closeLoading();\r\n            }\r\n          },\r\n          err => {\r\n            //Connection failed message\r\n          }\r\n        );\r\n      }\r\n      feedUpdate() {\r\n        if (this.userPostData.feed) {\r\n          this.common.presentLoading();\r\n          this.authService.postData(this.userPostData, \"feedUpdate\").then(\r\n            result => {\r\n              this.resposeData = result;\r\n              if (this.resposeData.feedData) {\r\n                this.common.closeLoading();\r\n                this.dataSet.unshift(this.resposeData.feedData);\r\n                this.userPostData.feed = \"\";\r\n    \r\n                //this.updatebox.setFocus();\r\n                setTimeout(() => {\r\n                  //  this.updatebox.focus();\r\n                }, 150);\r\n              } else {\r\n                console.log(\"No access\");\r\n                this.common.closeLoading();\r\n              }\r\n            },\r\n            err => {\r\n              //Connection failed message\r\n            }\r\n          );\r\n        }\r\n      }\r\n\r\n      feedDelete(feed_id, msgIndex) {\r\n        if (feed_id > 0) {\r\n          let alert = this.alertCtrl.create({\r\n            title: \"Delete Feed\",\r\n            message: \"Do you want to buy this feed?\",\r\n            buttons: [\r\n              {\r\n                text: \"Cancel\",\r\n                role: \"cancel\",\r\n                handler: () => {\r\n                  console.log(\"Cancel clicked\");\r\n                }\r\n              },\r\n              {\r\n                text: \"Delete\",\r\n                handler: () => {\r\n                  this.userPostData.feed_id = feed_id;\r\n                  this.authService.postData(this.userPostData, \"feedDelete\").then(\r\n                    result => {\r\n                      this.resposeData = result;\r\n                      if (this.resposeData.success) {\r\n                        this.dataSet.splice(msgIndex, 1);\r\n                      } else {\r\n                        console.log(\"No access\");\r\n                      }\r\n                    },\r\n                    err => {\r\n                      //Connection failed message\r\n                    }\r\n                  );\r\n                }\r\n              }\r\n            ]\r\n          });\r\n          alert.present();\r\n        }\r\n      }\r\n      doInfinite(e): Promise<any> {\r\n        console.log(\"Begin async operation\");\r\n        return new Promise(resolve => {\r\n          setTimeout(() => {\r\n            this.authService.postData(this.userPostData, \"feed\").then(\r\n              result => {\r\n                this.resposeData = result;\r\n                if (this.resposeData.feedData.length) {\r\n                  const newData = this.resposeData.feedData;\r\n                  this.userPostData.lastCreated = this.resposeData.feedData[\r\n                    newData.length - 1\r\n                  ].created;\r\n    \r\n                  for (let i = 0; i < newData.length; i++) {\r\n                    this.dataSet.push(newData[i]);\r\n                  }\r\n                } else {\r\n                  this.noRecords = true;\r\n                  console.log(\"No user updates\");\r\n                }\r\n              },\r\n              err => {\r\n                //Connection failed message\r\n              }\r\n            );\r\n            resolve();\r\n          }, 500);\r\n        });\r\n      }\r\n\r\n      converTime(time) {\r\n        let a = new Date(time * 1000);\r\n        return a;\r\n      }\r\n    \r\n      backToWelcome() {\r\n        const root = this.app.getRootNav();\r\n        root.popToRoot();\r\n      }\r\n    \r\n      logout() {\r\n        //Api Token Logout\r\n    \r\n        localStorage.clear();\r\n        setTimeout(() => this.backToWelcome(), 1000);\r\n      }\r\n   \r\n\r\n   \r\n\r\n   \r\n\r\n    \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/page1/page1.ts"],"sourceRoot":""}